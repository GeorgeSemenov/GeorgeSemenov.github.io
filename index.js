(()=>{"use strict";var t,e={562:(t,e,o)=>{const n=function(t){return t.value},r={chatWritingField:document.getElementById("chat-writing-field"),chatInput:document.querySelector("#chat-writing-field .chat__input"),chatDisplay:document.getElementById("chat-display"),messageTemplate:document.getElementById("chat-message-template"),settingsButton:document.getElementById("settings-button"),settingsPopup:document.getElementById("settings-popup"),authorizationButton:document.getElementById("authorization-button"),authorizationPopup:document.getElementById("authorization-popup"),getAuthorizationCodeButton:document.getElementById("get-authorization-code-button"),authorizationЕmailInput:document.getElementById("authorization-email-input"),enterCodePopupButton:document.getElementById("enter-code-popup-button"),enterCodePopup:document.getElementById("enter-code-popup"),errorPopup:document.getElementById("error-popup"),errorPopupAcceptButton:document.getElementById("error-popup-accept-button")};var a=o(13);const{messageTemplate:u}=r,{chatWritingField:i,chatInput:p,chatDisplay:c}=r,l=function(){i.addEventListener("submit",(t=>{t.preventDefault();let e=n(p);if(e.length>0){let t=function(t,e,o,n){n=n??(0,a.Z)(new Date,"HH:mm");let r=document.createElement("div");(o=o?o.split(""):[]).push("chat__message"),r.classList.add(o.join(" "));let i=u.content.cloneNode(!0);return i.querySelector(".chat__message-text").textContent=t,i.querySelector(".chat__message-user-name").textContent=e+" : ",i.querySelector(".chat__message-sended-time").textContent=n,r.append(i),r}(e,"Я");c.append(t)}}))},s={authorizationAPIAdress:"https://edu.strada.one/api/user"},{errorPopup:d}=r,{errorPopup:m}=r,{authorizationAPIAdress:h}=s,g=async function(t){let e=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({email:t})});return e.ok||(function({title:t,description:e}){m.querySelector(".popup-template__title").textContent=t,m.querySelector(".popup-template__input-label").textContent=e}({title:"Абшибка!",description:`Статус запроса ${e.status}`}),d.showModal()),await e.json()},{authorizationЕmailInput:f}=r,y=function(t){t.preventDefault();let e=n(f);g(e).then((t=>console.log(t)))},{classPopupVisibiltyControl:v}=s,B=function(t,e=[],o=[],n=v){let r=t.querySelector(".button_theme_close-button"),a=t.querySelector(".popup-template__form");o.push(r,t),e.forEach((e=>{e.addEventListener("click",(o=>{"BUTTON"===e.nodeName&&o.preventDefault(),t.showModal()}))})),o.forEach((e=>{e.addEventListener("click",(()=>{"BUTTON"===e.nodeName&&event.preventDefault(),t.close()}))})),a.addEventListener("click",(t=>{t.stopPropagation()}))},{settingsButton:E,settingsPopup:_,authorizationButton:P,authorizationPopup:b,enterCodePopupButton:I,enterCodePopup:C,getAuthorizationCodeButton:O,errorPopup:z,errorPopupAcceptButton:w}=r;B(_,[E]),B(b,[P]),B(C,[I]),B(z,[],[w]),O.addEventListener("click",y),l()}},o={};function n(t){var r=o[t];if(void 0!==r)return r.exports;var a=o[t]={exports:{}};return e[t](a,a.exports,n),a.exports}n.m=e,t=[],n.O=(e,o,r,a)=>{if(!o){var u=1/0;for(l=0;l<t.length;l++){for(var[o,r,a]=t[l],i=!0,p=0;p<o.length;p++)(!1&a||u>=a)&&Object.keys(n.O).every((t=>n.O[t](o[p])))?o.splice(p--,1):(i=!1,a<u&&(u=a));if(i){t.splice(l--,1);var c=r();void 0!==c&&(e=c)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[o,r,a]},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={826:0};n.O.j=e=>0===t[e];var e=(e,o)=>{var r,a,[u,i,p]=o,c=0;if(u.some((e=>0!==t[e]))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(p)var l=p(n)}for(e&&e(o);c<u.length;c++)a=u[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(l)},o=self.webpackChunknew_smart_eat=self.webpackChunknew_smart_eat||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var r=n.O(void 0,[592],(()=>n(562)));r=n.O(r)})();